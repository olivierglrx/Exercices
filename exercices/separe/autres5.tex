% Titre : Double somme des min
% Filiere : BCPST
% Difficulte :
% Type : DS, DM
% Categories : autres
% Subcategories : 
% Keywords : autres




\begin{exercice}
Calculer 
$$\sum_{i,j \in \intent{1,n}} \min(i,j)$$
\end{exercice}


\begin{correction}
\underline{Solution 1 :} 
\begin{align*}
\sum_{i,j \in \intent{1,n}} \min(i,j) &= \sum_{i=1}^n \sum_{j=1}^n\min(i,j)\\
												&= \sum_{i=1}^n \sum_{j=1}^i\min(i,j) + \sum_{i=1}^n \sum_{j=i+1}^n\min(i,j)\\
												&= \sum_{i=1}^n \sum_{j=1}^i j  + \sum_{i=1}^n \sum_{j=i+1}^n i\\
													&= \sum_{i=1}^n \frac{i(i+1)}{2}+ \sum_{i=1}^n (n-i) i\\
													&= \sum_{i=1}^n \frac{-i^2+(2n+1)i}{2}\\		
													&= \frac{1}{2} \left( \sum_{i=1}^n -i^2  + (2n+1)\sum_{i=1}^ni \right)\\																					&= \frac{1}{2} \left(-\frac{n(n+1)(2n+1)}{6} +(2n+1)\frac{n(n+1)}{2}\right)\\											
													&=\frac{n(n+1)(2n+1)}{6} 
\end{align*}



\underline{Solution 2 :}
\begin{align*}
\sum_{i,j \in \intent{1,n}} \min(i,j)  &= \sum_{i,j \in \intent{1,n}, i=j} \min(i,j)  +\sum_{i,j \in \intent{1,n}, i<j } \min(i,j)  + \sum_{i,j \in \intent{1,n}, j<i } \min(i,j) \\
										&=\left( \sum_{i \in \intent{1,n} } i \right) +\left(2\sum_{i,j \in \intent{1,n}, i< j } i \right)\\
										&= \frac{n(n+1)}{2} + 2 \sum_{i=1}^{n-1}\sum_{j=i+1}^n i \\
										&= \frac{n(n+1)}{2} + 2 \sum_{i=1}^{n-1}(n-i) i \\
										&= \frac{n(n+1)}{2} + 2 \sum_{i=1}^{n-1}(n-i) i \\
										&= \frac{n(n+1)}{2} + 2 \left( \frac{n^2(n-1)}{2}  - \frac{(n-1)n(2n-1)}{6}     \right)  \\
											&= \frac{n(n+1)}{2} + 2 \frac{n(n-1)(n+1)}{6} \\
											&= \frac{n(n+1) (3 +2(n-1))}{6} \\
											&= \frac{n(n+1) (2n+1)}{6} 
\end{align*}


\end{correction}